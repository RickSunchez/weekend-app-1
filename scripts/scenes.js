// START
function start() {
    document
        .querySelector("*[action=start]")
        .addEventListener("mouseup", (e) => {
            switchScene("dialog", 0);
        })
}

function runDialog(num) {
    switch (num) {
        case 0:
            dialog(
                ["Inver", 0, "–ü—Ä–µ–∂–¥–µ —á–µ–º –Ω–∞—á–∞—Ç—å, –Ω–µ–º–Ω–æ–≥–æ –ø—Ä–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ. –ß—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –¥–∏–∞–ª–æ–≥—É, –Ω–∞–∂–º–∏ –ø—Ä–æ–±–µ–ª, –ª–∏–±–æ –ø—Ä–æ—Å—Ç–æ –∫–ª–∏–∫–Ω–∏ üòâ"],
                ["Nikita", 0, "–•–µ–π, –≤—Å–µ–º –ø—Ä–∏–≤–µ—Ç"],
                ["Nikita", 0, "–¢—É—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∫—Ä—É–ø–Ω—ã–π —Ö–∞–∫–∞—Ç–æ–Ω—á–∏–∫, –º–æ–∂–µ–º –ø–æ–±–æ—Ä–æ—Ç—å—Å—è –∑–∞ –≥–ª–∞–≤–Ω—ã–π –ø—Ä–∏–∑!"],
                ["Inver", 0, "–°–∞–ª–∞–º! –Ø –≤ –∞—Ä–º–∏–∏ üòÑ"],
                ["Inver", 0, "–ù–æ, –º–æ–≥—É –ø–æ—É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –æ–Ω–ª–∞–π–Ω!"],
                ["Artem", 0, "–í—Å–µ–º –ø—Ä–∏–≤–µ—Ç! –°–µ–π—á–∞—Å –º—ã –æ–±—Å—É–¥–∏–º..."],
                ["Artem", 0, "*—á—Ç–æ-—Ç–æ –ø—Ä–æ –º–Ω–æ–≥–æ —Ä–∞–±–æ—Ç—ã*"],
                ["Arina", 0, "*—á—Ç–æ-—Ç–æ –ø—Ä–æ –∫—É—á—É –¥–µ–ª*"],
                ["Artem", 1, "*–∑–≤—É–∫–∏ –±—É—Ä–Ω–æ–≥–æ –æ–±—Å—É–∂–¥–µ–Ω–∏—è*"],
                ["Arina", 1, "*–∑–≤—É–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–æ—Ç–µ—Å—Ç–∞*"],
                ["Artem", 2, "*—Å–∫–∞–∑–∞–ª —Å–≤–æ–µ –º—É–∂–∏—Ü–∫–æ–µ —Å–ª–æ–≤–æ*"],
                ["Arina", 2, "–ú—ã —Å–æ–≥–ª–∞—Å–Ω—ã..."],
            ).then((zeroPoint)=>{
                zeroPoint();
                switchScene("hack-1");
            })
            break;
        case 1:
            dialog(
                ["Artem", 0, "–û—Ç–ª–∏—á–Ω–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å!"],
                ["Arina", 2, "..."],
                ["Arina", 2, "........."],
                ["Arina", 2, "–ù—É—É—É—É..."],
                ["Arina", 2, "–ü–æ–∫–∞ –¥–∞–ª–µ–∫–æ –æ—Ç –∏–¥–µ–∞–ª–∞..."],
                ["Arina", 1, "–Ø —Å–µ–π—á–∞—Å –≤—Å–µ –ø–µ—Ä–µ–¥–µ–ª–∞—é!"],
                ["Artem", 1, "..."],
            ).then((zeroPoint)=>{
                zeroPoint();
                switchScene("hack-2");
            })
            break;
        case 2:
            console.log("Firefox —á—É–¥–∞–∫ –∏ –Ω–µ –¥–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –±—É—Ñ–µ—Ä—É –æ–±–º–µ–Ω–∞");
            console.log("<surprise_name>");
            dialog(
                ["Artem", 0, "–î–∞, —Ç–∞–∫ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª—É—á—à–µ))"],
                ["Arina", 1, "–°–ø–∞—Å–∏–±–æ"],
                ["Artem", 0, "*–ß–º–æ–∫*"],
                ["Arina", 1, "*–ß–º–æ–∫*"],
                ["Nikita", 0, "–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —ç—Ç–æ –≤—Å–µ))"],
                ["Nikita", 0, "–°–ø–∞—Å–∏–±–æ —á—Ç–æ –¥–æ—â–ª–∏ –¥–æ –∫–æ–Ω—Ü–∞üòÖ"],
                ["Nikita", 0, "–ï—Å—Ç—å –Ω–µ–±–æ–ª—å—à–æ–π —Å—é—Ä–ø—Ä–∏–∑ –Ω–∞–ø–æ—Å–ª–µ–¥–æ–∫"],
                ["Nikita", 0, "<surprise_name>"],
                ["Inver", 0, "–ù—É –∏ —á—Ç–æ–±—ã –∑–∞–Ω–æ–≤–æ —ç—Ç–æ –≤—Å–µ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å"],
                ["Inver", 0, "–ù–∞–∂–º–∏ –Ω–∞ —Å—Ç–∞—Ä—Ç–æ–≤–æ–º —ç–∫—Ä–∞–Ω–µ Ctrl+Shift+Eüòâ"],
            ).then(()=>{
                
            })
            break;
        case 3:
            console.log("Firefox —á—É–¥–∞–∫ –∏ –Ω–µ –¥–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –±—É—Ñ–µ—Ä—É –æ–±–º–µ–Ω–∞");
            console.log("<surprise_name>");
            dialog(
                ["Nikita", 0, "<surprise_name>"],
            )
            break;
    }
}

function hack1() {
    dialog(
        ["Inver", 0, "..."],
        ["Nikita", 0, "..."],
        ["Nikita", 0, "–¢–∞–∫, –æ–±—â–∞—è –∏–¥–µ—è –ø–æ–Ω—è—Ç–Ω–∞"],
        ["Nikita", 0, "–ü–æ—Ä–∞ –ø—Ä–∏—Å—Ç—É–ø–∞—Ç—å!"],
        ["Nikita", 0, "–ê—Ä—Ç–µ–º–∫–∞, –ø–∏–ª–∏ —Ñ—Ä–æ–Ω—Ç, –Ω–∞ –º–Ω–µ –±—ç–∫, –±–ª–∏–∂–µ –∫ –≤–µ—á–µ—Ä—É —Ä–∞–∑–±–µ—Ä–µ–º—Å—è"],
        ["Artem", 2, "Okay"],
        ["Inver", 0, "–¢—É—Ç –≤—Å–µ –ø—Ä–æ—Å—Ç–æ. –ü—Ä–æ—Å—Ç–æ —Ç—ã–∫–∞–π –∫–Ω–æ–ø–∫–∏ üòÑ"],
    ).then((zeroPoint)=>{
        zeroPoint();
        IDEgame(hack1Code)
            .then(()=>{
                switchScene("dialog", 1);
            });
    })
}

function hack2() {
    dialog(
        ["Inver", 0, "–ü—Ä–∏–Ω—Ü–∏–ø –∫–∞–∫ –≤ –ø–∞–∑–ª–∞—Ö"],
        ["Inver", 0, "–°—Ç–∞–≤—å —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ –º–µ—Å—Ç–æ –∏ –º–æ–∂–Ω–æ –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ!"],
    )
    .then((zeroPoint)=>{
        zeroPoint();
        puzzleGame("puzzle1")
        .then(()=>{
            dialog(["Arina", 1, "–°–ª–∏—à–∫–æ–º –ø—Ä–æ—Å—Ç–æ!"])
            .then((zeroPoint)=>{
                zeroPoint();
                puzzleGame("puzzle2")
                .then(()=>{
                    puzzleGame("puzzle3")
                    .then(()=>{
                        switchScene("dialog", 2);
                    })
                })
            })
        })
    })
}

// cheat
window.addEventListener("keydown", (ev)=>{
    if ((ev.ctrlKey || ev.metaKey) && ev.shiftKey && ev.code == "KeyE") {
        switchScene("dialog", 3);
    }
})